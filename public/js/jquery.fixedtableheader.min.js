/* Copyright (c) 2009 Mustafa OZCAN (http://www.mustafaozcan.net)
 * Released under the MIT license
 * Version: 1.0.3
 * Requires: jquery.1.3+
 */
jQuery.fn.fixedtableheader=function(a){function c(a){return a.outerWidth()}var b=jQuery.extend({headerrowsize:1,highlightrow:!1,highlightclass:"highlight"},a);this.each(function(a){var d=$(this),e=d.find("tr:lt("+b.headerrowsize+")"),f="th";if(0==e.find(f).length&&(f="td"),e.find(f).length>0){e.find(f).each(function(){$(this).css("width",$(this).width())});var g=d.clone().empty(),h=c(d);g.attr("id","fixedtableheader"+a).css({position:"fixed",top:"0",left:d.offset().left}).append(e.clone()).width(h).hide().appendTo($("body")),b.highlightrow&&$("tr:gt("+(b.headerrowsize-1)+")",d).hover(function(){$(this).addClass(b.highlightclass)},function(){$(this).removeClass(b.highlightclass)}),$(window).scroll(function(){g.css({position:"fixed",top:"0",left:d.offset().left-$(window).scrollLeft()});var a=$(window).scrollTop(),b=e.offset().top;a>b&&a<=b+d.height()-e.height()?g.show():g.hide()}),$(window).resize(function(){g.outerWidth()!=d.outerWidth()&&(e.find(f).each(function(a){var b=$(this).width();$(this).css("width",b),g.find(f).eq(a).css("width",b)}),g.width(d.outerWidth())),g.css("left",d.offset().left)})}})};
